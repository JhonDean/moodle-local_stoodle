define("local_stoodle/quiz",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=()=>{const questionSet=JSON.parse(document.getElementById("question-set").innerHTML),answerSet=JSON.parse(document.getElementById("answer-set").innerHTML),questionDiv=document.querySelector(".js-answer-area"),scoreArea=document.querySelector(".score"),totalQuestions=Object.values(questionSet).length;document.querySelector(".submit-button").addEventListener("click",(()=>{!function(){let numCorrect=0;for(const key in Object.values(questionSet)){const question=Object.values(questionSet)[key].id;let option=null;if(option="multiple-choice"===document.querySelector('input[name = "'+question+'"]').parentElement.id?document.querySelector('input[name = "'+question+'"]:checked'):document.querySelector('input[name = "'+question+'"]'),null===option)return void alert("Question "+(parseInt(key)+1)+" is unanswered");for(const answerKey in Object.values(answerSet)){const answerText=Object.values(answerSet)[answerKey].option_text,answerIsCorrect=parseInt(Object.values(answerSet)[answerKey].is_correct);if(answerText===option.value&&1===answerIsCorrect){window.console.log("Question "+(parseInt(key)+1)+" is correct"),numCorrect++;break}if(answerText===option.value&&0===answerIsCorrect){window.console.log("Question "+(parseInt(key)+1)+" is wrong");break}}}scoreArea.innerText="Score: "+numCorrect+" / "+totalQuestions}()})),scoreArea.innerHTML="Score: 0 / "+totalQuestions;for(const key in Object.values(questionSet)){const newDiv=document.createElement("div");newDiv.appendChild(document.createElement("p")).textContent="Question "+(parseInt(key)+1)+": "+Object.values(questionSet)[key].question_text,0===Object.values(questionSet)[key].is_multiple_choice?(newDiv.id="open-response",createOpenResponseQuestion(newDiv,Object.values(questionSet)[key].id)):(newDiv.id="multiple-choice",createMultipleChoiceQuestion(newDiv,Object.values(questionSet)[key].id,answerSet)),questionDiv.appendChild(newDiv)}function createMultipleChoiceQuestion(parent,questionId,answerSet){for(const key in Object.values(answerSet)){const dbId=Object.values(answerSet)[key].stoodle_quiz_questionsid;dbId===questionId?createInputNode(parent,"someid",questionId,Object.values(answerSet)[key].option_text):window.console.log("Something wrong: "+dbId+" does not equal "+questionId)}}function createOpenResponseQuestion(parent,name){const textInput=document.createElement("input");textInput.type="text",textInput.name=name,parent.appendChild(textInput)}function createInputNode(parent,id,name,value){const radio=document.createElement("input");radio.type="radio",radio.id=id,radio.name=name,radio.value=value;const label=document.createElement("label");label.appendChild(document.createTextNode(value)),parent.appendChild(radio),parent.appendChild(label),parent.appendChild(document.createElement("br"))}}}));

//# sourceMappingURL=quiz.min.js.map